<% content_for :title, @indicator %>

<p class="lead"><%= @indicator.name %></p>

<div class="row">
  <% [:level_expected, :proof, :requirement, :non_conformity].each do |attribute| %>
    <div class="col-md-3">
      <h2 class="h4 mt-4"><%= Qualiopi::Indicator.human_attribute_name(attribute) %></h2>
      <p><%= @indicator.send attribute %></p>
    </div>
  <% end %>
</div>

<table class="table mt-5">
  <thead>
    <tr>
      <th><%= Program.model_name.human %></th>
      <% @checks.each do |check| %>
        <th><%= Program.human_attribute_name(check) %></th>
      <% end %>
    </tr>
  </thead>
  <tbody>
    <% @programs.each do |program| %>
      <tr>
        <td><%= link_to program, [:admin, program] %></td>
        <% @checks.each do |check| %>
          <% valid = !program.send(check).blank? %>
          <th>
            <% if valid %>
              <span class="fas fa-check text-success"></span>
            <% else %>
              <span class="fas fa-times text-danger"></span>
            <% end %>
          </th>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
