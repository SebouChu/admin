<% content_for :title, @page %>

<%= render 'admin/communication/websites/sidebar' do %>
  <%= render 'admin/communication/websites/pages/show/heading' %>
  <hr class="my-5">
  <%= render 'admin/application/a11y/widget', about: @page, horizontal: true, small: true %>
  <hr class="my-5">
  <%= render 'admin/communication/websites/pages/show/details' %>
  <%= render 'admin/communication/blocks/editor/editor', about: @page %>
<% end %>

<%= render 'admin/application/dependencies',
            git_dependencies: @page.git_dependencies(@page.website),
            active_storage_blobs: @page.active_storage_blobs %>

<% content_for :action_bar_left do %>
  <%= destroy_link @page if @page.is_regular_page? %>
  <%= static_link static_admin_communication_website_page_path(@page) %>
<% end %>

<% content_for :action_bar_right do %>
  <%= link_to  t('open'), 
              @page.url, 
              target: :_blank, 
              class: 'btn btn-light btn-xs' if @page.published %>
  <%= preview_link %>
  <%= link_to t('edit'), edit_admin_communication_website_page_path(@page), class: button_classes %>
<% end %>
