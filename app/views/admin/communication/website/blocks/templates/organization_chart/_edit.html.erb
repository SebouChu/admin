<a class="<%= button_classes('mb-2') %>" ng-click="data.elements.push({title: 'Role name', persons: []})">Add role</a>
<div class="card" ng-repeat="element in data.elements">
  <div class="card-body">
    <div class="row">
      <div class="col-md-5">
        <div class="row">
          <div class="col-md-11">
            <input class="form-control" type="text" ng-model="element.title">
          </div>
          <div class="col-md-1 text-end">
            <a class="btn btn-sm btn-danger mt-1" ng-click="data.elements.splice(data.elements.indexOf(element))"><i class="fas fa-trash"></i></a>
          </div>
        </div>
      </div>
      <div class="offset-md-1 col-md-6">
        <div class="row">
          <div class="col-md-8">
            <p>People</p>
          </div>
          <div class="col-md-4 text-end">
            <a class="<%= button_classes %>" ng-click="element.persons.push({slug: ''})">Add person</a>
          </div>
        </div>
        <div ng-repeat="person in element.persons" class="mb-2">
          <div class="row">
            <div class="col-md-11">
              <select class="form-select select" ng-model="person.slug">
                <% @website.university.people.each_with_index do |person, index| %>
                <option value="<%= person.slug %>"><%= person %></option>
                <% end %>
              </select>
            </div>
            <div class="col-md-1 text-end">
              <a class="btn btn-sm btn-danger mt-1" ng-click="element.persons.splice(element.persons.indexOf(person))"><i class="fas fa-trash"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
