<%
class_name = "block block-sound"
unless @block.title.blank?
  class_name += " block-with-title"
end
%>
<section class="<%= class_name %>">
  <div class="container">
    <div class="block-content">
      <% unless @block.title.blank? %>
        <div class="top">
          <h2><%= @block.title %></h2>
        </div>
      <% end %>
      <% if @block.template.file.present? %>
        <% blob = @block.template.file_component.blob %>
        <% if blob %>
          <audio controls src="<%= blob.url %>"></audio>
        <% end %>
      <% end %>
      <% if @block.template.title %>
        <p><%= block_component_preview :title %></p>
      <% end %>
      <% unless @block.template.transcription.blank? %>
        <div class="transcription">
          <details>
            <summary><%= t 'accessibility.transcription' %></summary>
            <p><%= block_component_preview :transcription %></p>
          </details>
        </div>
      <% end %>
    </div>
  </div>
</section>