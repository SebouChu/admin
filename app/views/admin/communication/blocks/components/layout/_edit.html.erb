<%
layouts = template.class.layouts
%>
<p>
  Mise en page
  <% layouts.each do |layout| %>
    <strong v-show="data.layout == '<%= layout %>'">
      <%= t "admin.communication.blocks.templates.#{template.kind}.layouts.#{layout}.label" %>
    </strong>
  <% end %>
  <a  data-bs-toggle="collapse"
      href="#layouts"
      class="ms-4 btn btn-light">
    Choisir la mise en page
  </a>
</p>

<div class="row pure__row--small collapse" id="layouts">
  <% layouts.each do |layout| %>
    <%
    i18n = "admin.communication.blocks.templates.#{template.kind}.layouts.#{layout}"
    name = t "#{i18n}.label"
    description = t "#{i18n}.description"
    %>
    <div class="col-xxl-6">
      <div class="card mb-4">
        <label for="layout-<%= layout %>">
          <div class="row pure__row--small">
            <div class="col-8 col-xxl-6">
              <div class="card-body">
                <div class="form-check">
                  <input  class="form-check-input"
                          type="radio"
                          name="layout"
                          v-model="data.layout"
                          value="<%= layout %>"
                          id="layout-<%= layout %>">
                  <h3 class="h4"><%= name %></h3>
                </div>
                <p><%= description %></p>
              </div>
            </div>
            <div class="col-4 col-xxl-6">
              <%= image_tag "communication/blocks/templates/#{template.kind}/#{layout}.png",
                            alt: name,
                            class: 'img-fluid' %>
            </div>
          </div>
        </label>
      </div>
    </div>
  <% end %>
</div>